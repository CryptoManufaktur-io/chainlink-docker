ARG DOCKER_TAG

FROM openethereum/openethereum:${DOCKER_TAG}

#Next two are unused but included to avoid warnings
ARG BUILD_TARGET
ARG USER

USER root

RUN cp /home/openethereum/openethereum /usr/local/bin

# Create data mount point with permissions
RUN mkdir -p /var/lib/openethereum && chown openethereum:openethereum /var/lib/openethereum && chmod 700 /var/lib/openethereum

# Use an unprivileged user.
USER openethereum

WORKDIR /var/lib/openethereum

ENTRYPOINT ["openethereum"]
